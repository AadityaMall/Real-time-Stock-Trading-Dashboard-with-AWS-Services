module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},45959,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=process.env.NEXT_PUBLIC_API_URL||"http://localhost:4000",e=["RELIANCE","TCS","HDFCBANK","INFY","HINDUNILVR","ICICIBANK","SBIN","BHARTIARTL","ITC","KOTAKBANK","LT","AXISBANK","HCLTECH","ASIANPAINT","MARUTI","WIPRO","BAJFINANCE","ULTRACEMCO","NESTLEIND","TITAN"],f={RELIANCE:{name:"Reliance Industries Ltd",exchange:"NSE",sector:"Oil & Gas"},TCS:{name:"Tata Consultancy Services",exchange:"NSE",sector:"Technology"},HDFCBANK:{name:"HDFC Bank Ltd",exchange:"NSE",sector:"Financial Services"},INFY:{name:"Infosys Ltd",exchange:"NSE",sector:"Technology"},HINDUNILVR:{name:"Hindustan Unilever Ltd",exchange:"NSE",sector:"Consumer Goods"},ICICIBANK:{name:"ICICI Bank Ltd",exchange:"NSE",sector:"Financial Services"},SBIN:{name:"State Bank of India",exchange:"NSE",sector:"Financial Services"},BHARTIARTL:{name:"Bharti Airtel Ltd",exchange:"NSE",sector:"Telecommunications"},ITC:{name:"ITC Ltd",exchange:"NSE",sector:"Consumer Goods"},KOTAKBANK:{name:"Kotak Mahindra Bank",exchange:"NSE",sector:"Financial Services"},LT:{name:"Larsen & Toubro Ltd",exchange:"NSE",sector:"Engineering"},AXISBANK:{name:"Axis Bank Ltd",exchange:"NSE",sector:"Financial Services"},HCLTECH:{name:"HCL Technologies Ltd",exchange:"NSE",sector:"Technology"},ASIANPAINT:{name:"Asian Paints Ltd",exchange:"NSE",sector:"Consumer Goods"},MARUTI:{name:"Maruti Suzuki India Ltd",exchange:"NSE",sector:"Automotive"},WIPRO:{name:"Wipro Ltd",exchange:"NSE",sector:"Technology"},BAJFINANCE:{name:"Bajaj Finance Ltd",exchange:"NSE",sector:"Financial Services"},ULTRACEMCO:{name:"UltraTech Cement Ltd",exchange:"NSE",sector:"Construction Materials"},NESTLEIND:{name:"Nestle India Ltd",exchange:"NSE",sector:"Consumer Goods"},TITAN:{name:"Titan Company Ltd",exchange:"NSE",sector:"Consumer Goods"}};function g(a){if(!a||!a.symbol||void 0===a.price)return null;let b=a.price||0,c=a.previous_close||b,d=b-c,e=c>0?d/c*100:0,g=f[a.symbol]||{name:a.symbol,exchange:"NSE",sector:void 0};return{symbol:a.symbol.toUpperCase(),name:g.name,exchange:g.exchange,sector:g.sector,price:b,change:Number(d.toFixed(2)),changePercent:Number(e.toFixed(2)),volume:a.volume||0,high:a.high||b,low:a.low||b,open:a.open||b,previousClose:c,timestamp:a.timestamp||new Date().toISOString()}}let h={async getAllStocks(){try{let a=await fetch(`${d}/market/prices`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({symbols:e})});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to fetch stocks")}let b=await a.json();if(!Array.isArray(b))throw Error("Invalid response format");return b.map(g).filter(a=>null!==a)}catch(a){throw a instanceof Error?a:Error("Failed to fetch stocks")}},async getStockPrice(a){try{let b=await fetch(`${d}/market/price/${a}`,{method:"GET",credentials:"include"});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to fetch stock price")}let c=await b.json(),e=g(c);if(!e)throw Error("Invalid stock data received");return{symbol:e.symbol,price:e.price||0,change:e.change||0,changePercent:e.changePercent||0,volume:e.volume||0,high:e.high||0,low:e.low||0,open:e.open||0,previousClose:e.previousClose||0,timestamp:e.timestamp||new Date().toISOString()}}catch(b){throw b instanceof Error?b:Error(`Failed to fetch stock price for ${a}`)}},async getMultipleStockPrices(a){try{let b=await fetch(`${d}/market/prices`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({symbols:a})});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to fetch stock prices")}let c=await b.json();if(!Array.isArray(c))throw Error("Invalid response format");return c.map(g).filter(a=>null!==a)}catch(a){throw a instanceof Error?a:Error("Failed to fetch stock prices")}}},i=(0,c.createContext)(void 0);function j({children:a}){let[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(null),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(null),n=(0,c.useCallback)(a=>{if(!a||0===a.length)return{indices:[],topGainers:[],topLosers:[],mostActive:[],marketStatus:"closed"};let b=[...a].sort((a,b)=>(b.changePercent||0)-(a.changePercent||0));return{indices:[{symbol:"NIFTY50",name:"Nifty 50",value:22e3,change:0,changePercent:0},{symbol:"SENSEX",name:"Sensex",value:73e3,change:0,changePercent:0},{symbol:"BANKNIFTY",name:"Bank Nifty",value:48e3,change:0,changePercent:0}],topGainers:b.filter(a=>(a.changePercent||0)>0).slice(0,5),topLosers:b.filter(a=>0>(a.changePercent||0)).slice(-5).reverse(),mostActive:[...a].sort((a,b)=>(b.volume||0)-(a.volume||0)).slice(0,5),marketStatus:"open"}},[]),o=(0,c.useCallback)(async()=>{k(!0),m(null);try{let a=await h.getAllStocks();if(e(a),a&&a.length>0){let b=n(a);g(b)}else g({indices:[],topGainers:[],topLosers:[],mostActive:[],marketStatus:"closed"})}catch(a){m(a?.message||"Failed to fetch stocks"),e([]),g({indices:[],topGainers:[],topLosers:[],mostActive:[],marketStatus:"closed"})}finally{k(!1)}},[n]),p=(0,c.useCallback)(a=>d.find(b=>b.symbol.toUpperCase()===a.toUpperCase()),[d]),q=(0,c.useCallback)(async()=>{await o()},[o]);return(0,c.useEffect)(()=>{o()},[o]),(0,b.jsx)(i.Provider,{value:{stocks:d,marketSummary:f,isLoading:j,error:l,getStockBySymbol:p,refreshStocks:q},children:a})}function k(){let a=(0,c.useContext)(i);if(void 0===a)throw Error("useStocks must be used within a StockProvider");return a}a.s(["StockContext",()=>i,"StockProvider",()=>j,"useStocks",()=>k],45959)},46058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},39118,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},NOT_FOUND_SEGMENT_KEY:function(){return m},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__",m="/_not-found"},56025,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=process.env.NEXT_PUBLIC_API_URL||"http://localhost:4000",e={async login(a){let b=await fetch(`${d}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)});if(!b.ok)throw Error((await b.json()).error||"Login failed");return b.json()},async register(a){let b=await fetch(`${d}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)});if(!b.ok)throw Error((await b.json()).error||"Registration failed");return b.json()},async logout(){await fetch(`${d}/auth/logout`,{method:"POST",credentials:"include"})},async verify(){try{let a=await fetch(`${d}/auth/verify`,{method:"GET",credentials:"include"});if(!a.ok)return null;return a.json()}catch{return null}},async getPortfolio(){let a=await fetch(`${d}/portfolio/`,{method:"GET",credentials:"include"});if(!a.ok)throw Error((await a.json()).error||"Failed to fetch portfolio");return a.json()}},f=(0,c.createContext)(void 0);function g({children:a}){let[d,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(null),n=(0,c.useCallback)(async()=>{try{let a=await e.getPortfolio();if(!a)throw Error("No portfolio data received");let b={userId:a.username||"",totalValue:a.net_worth||0,cashBalance:a.cash_balance||0,totalInvested:a.total_invested||0,totalProfitLoss:(a.net_worth||0)-(a.total_invested||0)-(a.cash_balance||0),totalProfitLossPercent:(a.total_invested||0)>0?((a.current_holdings_value||0)-(a.total_invested||0))/(a.total_invested||0)*100:0,holdings:(a.holdings||[]).map(a=>({symbol:a.symbol||"",stockName:a.symbol||"",quantity:a.quantity||0,averagePrice:a.avg_buy_price||0,currentPrice:a.live_price||0,totalCost:a.invested_value||0,currentValue:a.current_value||0,profitLoss:a.pnl||0,profitLossPercent:(a.invested_value||0)>0?(a.pnl||0)/(a.invested_value||0)*100:0,lastUpdated:new Date().toISOString()})),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};m(b)}catch(a){m({userId:"",totalValue:0,cashBalance:0,totalInvested:0,totalProfitLoss:0,totalProfitLossPercent:0,holdings:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}},[]),o=(0,c.useCallback)(async()=>{k(!0);try{let a=await e.verify();if(a){let b={username:a.username,balance:0};g(b),i(!0),await n()}else g(null),i(!1),m(null)}catch(a){g(null),i(!1),m(null)}finally{k(!1)}},[n]),p=(0,c.useCallback)(async a=>{k(!0);try{let b=await e.login(a),c={username:b.user.username,balance:b.user.balance};return g(c),i(!0),await n(),!0}catch(a){return!1}finally{k(!1)}},[n]),q=(0,c.useCallback)(async a=>{k(!0);try{let b=await e.register(a),c={username:b.user.username,balance:b.user.balance};g(c),i(!0);try{await n()}catch(a){}return!0}catch(a){return!1}finally{k(!1)}},[n]),r=(0,c.useCallback)(async()=>{try{await e.logout()}catch(a){}finally{g(null),i(!1),m(null)}},[]),s=(0,c.useCallback)(async()=>{h&&await n()},[h,n]);return(0,c.useEffect)(()=>{o()},[o]),(0,b.jsx)(f.Provider,{value:{user:d,isAuthenticated:h,isLoading:j,portfolio:l,login:p,register:q,logout:r,loadUser:o,refreshPortfolio:s},children:a})}function h(){let a=(0,c.useContext)(f);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}a.s(["AuthContext",()=>f,"AuthProvider",()=>g,"useAuth",()=>h],56025)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__fe0828f1._.js.map