{"version":3,"sources":["../../../../src/app/stocks/%5Bsymbol%5D/page.tsx","../../../../src/components/features/PriceChart.tsx","../../../../src/services/tradingService.ts"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useMemo } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { PriceChart } from '@/components/features/PriceChart';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { Loading } from '@/components/ui/loading';\nimport { formatRupee } from '@/lib/utils';\nimport { useStocks } from '@/context/StockContext';\nimport { useAuth } from '@/context/AuthContext';\nimport { tradingService } from '@/services/tradingService';\nimport type { StockQuote, PriceHistory, PricePoint } from '@/lib/types';\n\nexport default function StockDetailPage() {\n  const params = useParams();\n  const router = useRouter();\n  const symbol = params?.symbol as string;\n  const { getStockBySymbol } = useStocks();\n  const { refreshPortfolio, portfolio } = useAuth();\n\n  const [timeframe, setTimeframe] = useState<PriceHistory['timeframe']>('1D');\n  const [orderType, setOrderType] = useState<'buy' | 'sell'>('buy');\n  const [quantity, setQuantity] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n\n  const stock = useMemo(() => {\n    if (!symbol) return null;\n    return getStockBySymbol(symbol);\n  }, [symbol, getStockBySymbol]);\n\n  // Generate simple price history based on current price\n  const priceHistory = useMemo<PriceHistory | null>(() => {\n    if (!stock || stock.price === undefined) return null;\n\n    const points = timeframe === '1D' ? 100 : timeframe === '1W' ? 35 : timeframe === '1M' ? 30 : 100;\n    const data: PricePoint[] = [];\n    const now = new Date();\n    let currentPrice = stock.price || 0;\n    const isPositive = (stock.changePercent || 0) >= 0;\n    const variation = (stock.price || 0) * 0.1; // 10% variation\n\n    for (let i = points - 1; i >= 0; i--) {\n      const timestamp = new Date(now.getTime() - i * 60000); // 1 minute intervals\n      const trend = isPositive ? 1 : -1;\n      const randomVariation = (Math.random() - 0.5) * variation;\n      currentPrice = (stock.price || 0) + (trend * (points - i) / points * variation * 0.3) + randomVariation;\n      \n      data.push({\n        timestamp: timestamp.toISOString(),\n        price: Math.max(0, currentPrice),\n        volume: Math.floor(Math.random() * 50000000 + 10000000),\n      });\n    }\n\n    return {\n      symbol: stock.symbol,\n      data,\n      timeframe,\n    };\n  }, [stock, timeframe]);\n\n  useEffect(() => {\n    if (!symbol || !stock) {\n      router.push('/stocks');\n    }\n  }, [symbol, stock, router]);\n\n  const handleTrade = async () => {\n    if (!stock || !quantity || parseFloat(quantity) <= 0) return;\n\n    setIsLoading(true);\n    setError(null);\n    setSuccess(null);\n\n    try {\n      const qty = parseInt(quantity, 10);\n      \n      if (isNaN(qty) || qty <= 0) {\n        throw new Error('Please enter a valid quantity');\n      }\n\n      // Check if user has enough cash for buy orders\n      if (orderType === 'buy' && portfolio && stock.price) {\n        const totalCost = qty * stock.price;\n        if (totalCost > (portfolio.cashBalance || 0)) {\n          throw new Error(`Insufficient funds. You need ${formatRupee(totalCost)} but only have ${formatRupee(portfolio.cashBalance || 0)}`);\n        }\n      }\n\n      // Check if user has enough shares for sell orders\n      if (orderType === 'sell' && portfolio) {\n        const holding = portfolio.holdings?.find(h => h.symbol === stock.symbol);\n        if (!holding || (holding.quantity || 0) < qty) {\n          throw new Error(`Insufficient shares. You only have ${holding?.quantity || 0} shares of ${stock.symbol}`);\n        }\n      }\n\n      // Execute the trade\n      const result = orderType === 'buy' \n        ? await tradingService.buyStock(stock.symbol, qty)\n        : await tradingService.sellStock(stock.symbol, qty);\n\n      // Refresh portfolio after successful trade\n      await refreshPortfolio();\n\n      // Show success message\n      const tradePrice = result.trade?.price || result.price || stock.price || 0;\n      setSuccess(\n        `Successfully ${orderType === 'buy' ? 'bought' : 'sold'} ${qty} shares of ${stock.symbol} at ${formatRupee(tradePrice)} per share`\n      );\n      \n      // Clear quantity input\n      setQuantity('');\n\n      // Clear success message after 5 seconds\n      setTimeout(() => {\n        setSuccess(null);\n      }, 5000);\n    } catch (err: any) {\n      const errorMessage = err?.message || `Failed to ${orderType} stock. Please try again.`;\n      setError(errorMessage);\n      \n      // Clear error message after 5 seconds\n      setTimeout(() => {\n        setError(null);\n      }, 5000);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (!stock || !priceHistory) {\n    return <Loading />;\n  }\n\n  const isPositive = (stock.changePercent || 0) >= 0;\n  const totalCost = parseFloat(quantity || '0') * (stock.price || 0);\n\n  return (\n    <div className=\"min-h-screen bg-linear-to-br from-gray-950 via-gray-900 to-gray-950 relative overflow-hidden\">\n      {/* Background Effects */}\n      <div className=\"absolute inset-0 -z-10\">\n        <div className={`absolute top-20 right-1/4 w-96 h-96 ${isPositive ? 'bg-green-500/8' : 'bg-red-500/8'} rounded-full blur-3xl transition-colors duration-1000`} />\n        <div className=\"absolute bottom-1/3 left-1/4 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl\" />\n        <div className={`absolute top-1/2 right-1/3 w-64 h-64 ${isPositive ? 'bg-emerald-400/5' : 'bg-rose-400/5'} rounded-full blur-2xl animate-pulse`} />\n      </div>\n      \n      {/* Grid Pattern Overlay */}\n      <div className=\"absolute inset-0 -z-10 opacity-[0.02]\" \n           style={{ backgroundImage: 'radial-gradient(circle, #fff 1px, transparent 1px)', backgroundSize: '24px 24px' }} />\n\n      <div className=\"mx-auto max-w-7xl px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8\">\n        {/* Header */}\n        <div className=\"mb-6 sm:mb-8\">\n          <button\n            onClick={() => router.back()}\n            className=\"group mb-4 sm:mb-6 flex items-center gap-2 text-gray-400 hover:text-white transition-colors duration-200\"\n          >\n            <span className=\"flex items-center justify-center w-8 h-8 rounded-full bg-white/5 border border-white/10 group-hover:bg-white/10 group-hover:border-white/20 transition-all duration-200\">\n              ←\n            </span>\n            <span className=\"text-sm font-medium\">Back</span>\n          </button>\n\n          {/* Stock Hero Section */}\n          <div className=\"relative p-6 sm:p-8 rounded-2xl bg-linear-to-br from-white/5 to-white/[0.02] border border-white/10 backdrop-blur-sm\">\n            {/* Glow effect based on stock performance */}\n            <div className={`absolute inset-0 rounded-2xl ${isPositive ? 'bg-green-500/5' : 'bg-red-500/5'} blur-xl -z-10`} />\n            \n            <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6\">\n              <div className=\"flex items-start gap-4\">\n                {/* Stock Icon */}\n                <div className={`flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 rounded-2xl ${isPositive ? 'bg-green-500/10 border-green-500/20' : 'bg-red-500/10 border-red-500/20'} border backdrop-blur-sm`}>\n                  <span className=\"text-2xl sm:text-3xl font-black text-white\">{stock.symbol.charAt(0)}</span>\n                </div>\n                <div>\n                  <div className=\"flex items-center gap-3 flex-wrap mb-2\">\n                    <h1 className=\"text-3xl sm:text-4xl lg:text-5xl font-black bg-linear-to-r from-white to-gray-300 bg-clip-text text-transparent\">\n                      {stock.symbol}\n                    </h1>\n                    <Badge className={`${isPositive ? 'bg-green-500/20 text-green-400 border-green-500/30' : 'bg-red-500/20 text-red-400 border-red-500/30'} border px-3 py-1`}>\n                      {stock.exchange}\n                    </Badge>\n                  </div>\n                  <p className=\"text-base sm:text-lg text-gray-400\">{stock.name}</p>\n                  \n                  {/* Live indicator */}\n                  <div className=\"flex items-center gap-2 mt-3\">\n                    <div className=\"flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/5 border border-white/10\">\n                      <div className=\"w-2 h-2 rounded-full bg-green-400 animate-pulse\" />\n                      <span className=\"text-xs text-gray-400\">Live</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"lg:text-right\">\n                <div className=\"text-4xl sm:text-5xl lg:text-6xl font-black text-white mb-2 tabular-nums\">\n                  {formatRupee(stock.price)}\n                </div>\n                <div\n                  className={`inline-flex items-center gap-2 px-4 py-2 rounded-xl text-lg sm:text-xl font-bold ${\n                    isPositive \n                      ? 'bg-green-500/10 text-green-400 border border-green-500/20' \n                      : 'bg-red-500/10 text-red-400 border border-red-500/20'\n                  }`}\n                >\n                  <span className={`flex items-center justify-center w-6 h-6 rounded-full ${isPositive ? 'bg-green-500/20' : 'bg-red-500/20'}`}>\n                    {isPositive ? '↑' : '↓'}\n                  </span>\n                  <span>{isPositive ? '+' : ''}{formatRupee(stock.change || 0)}</span>\n                  <span className=\"text-base opacity-80\">({isPositive ? '+' : ''}{(stock.changePercent || 0).toFixed(2)}%)</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 gap-6 lg:gap-8 lg:grid-cols-3\">\n          {/* Chart Section */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            <Card className=\"bg-white/[0.02] border-white/10 backdrop-blur-sm overflow-hidden\">\n              <CardHeader className=\"pb-4 border-b border-white/5\">\n                <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n                  <div>\n                    <CardTitle className=\"text-lg sm:text-xl text-white mb-1\">Price Chart</CardTitle>\n                    <p className=\"text-sm text-gray-500\">Historical price movement</p>\n                  </div>\n                  <div className=\"flex flex-wrap gap-1.5 p-1 rounded-xl bg-gray-900/50 border border-white/5\">\n                    {(['1D', '1W', '1M', '3M', '1Y'] as const).map((tf) => (\n                      <button\n                        key={tf}\n                        onClick={() => setTimeframe(tf)}\n                        className={`\n                          rounded-lg px-3 sm:px-4 py-2 text-xs sm:text-sm font-semibold transition-all duration-300\n                          ${\n                            timeframe === tf\n                              ? 'bg-blue-600 text-white shadow-lg shadow-blue-600/30'\n                              : 'text-gray-400 hover:text-white hover:bg-white/5'\n                          }\n                        `}\n                      >\n                        {tf}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent className=\"pt-6\">\n                {priceHistory && <PriceChart data={priceHistory} height={350} />}\n              </CardContent>\n            </Card>\n\n            {/* Key Metrics */}\n            <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4\">\n              {[\n                { label: 'Open', value: formatRupee(stock.open || 0), color: 'text-white', icon: '○' },\n                { label: 'High', value: formatRupee(stock.high || 0), color: 'text-green-400', icon: '↑' },\n                { label: 'Low', value: formatRupee(stock.low || 0), color: 'text-red-400', icon: '↓' },\n                { label: 'Volume', value: `${((stock.volume || 0) / 1000000).toFixed(2)}M`, color: 'text-blue-400', icon: '◈' },\n              ].map((metric) => (\n                <div\n                  key={metric.label}\n                  className=\"group relative p-4 sm:p-5 rounded-xl bg-white/[0.02] border border-white/10 hover:border-white/20 hover:bg-white/[0.04] transition-all duration-300 text-center overflow-hidden\"\n                >\n                  {/* Subtle glow on hover */}\n                  <div className=\"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-linear-to-br from-blue-500/5 to-transparent\" />\n                  \n                  <div className=\"relative\">\n                    <div className=\"flex items-center justify-center gap-1.5 mb-2\">\n                      <span className={`text-xs ${metric.color} opacity-60`}>{metric.icon}</span>\n                      <span className=\"text-xs sm:text-sm text-gray-500 font-medium uppercase tracking-wider\">{metric.label}</span>\n                    </div>\n                    <div className={`text-lg sm:text-xl lg:text-2xl font-bold ${metric.color} tabular-nums`}>\n                      {metric.value}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {/* Additional Stats */}\n            <Card className=\"bg-white/[0.02] border-white/10 backdrop-blur-sm\">\n              <CardHeader className=\"pb-4 border-b border-white/5\">\n                <CardTitle className=\"text-lg text-white\">Market Statistics</CardTitle>\n              </CardHeader>\n              <CardContent className=\"pt-6\">\n                <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-6\">\n                  <div>\n                    <p className=\"text-xs text-gray-500 uppercase tracking-wider mb-1\">Day Range</p>\n                    <div className=\"relative h-2 bg-gray-800 rounded-full overflow-hidden\">\n                      <div \n                        className=\"absolute h-full bg-linear-to-r from-red-500 via-yellow-500 to-green-500 rounded-full\"\n                        style={{ width: '100%' }}\n                      />\n                      <div \n                        className=\"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full border-2 border-gray-900 shadow-lg\"\n                        style={{ \n                          left: `${Math.min(100, Math.max(0, stock.high && stock.low && stock.high !== stock.low \n                            ? (((stock.price || 0) - stock.low) / (stock.high - stock.low)) * 100 \n                            : 50))}%`,\n                          transform: 'translate(-50%, -50%)'\n                        }}\n                      />\n                    </div>\n                    <div className=\"flex justify-between mt-2 text-xs text-gray-500\">\n                      <span>{formatRupee(stock.low)}</span>\n                      <span>{formatRupee(stock.high)}</span>\n                    </div>\n                  </div>\n                  <div>\n                    <p className=\"text-xs text-gray-500 uppercase tracking-wider mb-1\">Prev Close</p>\n                    <p className=\"text-lg font-semibold text-white\">{formatRupee((stock.price || 0) - (stock.change || 0))}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-xs text-gray-500 uppercase tracking-wider mb-1\">Market Cap</p>\n                    <p className=\"text-lg font-semibold text-white\">₹{(((stock.price || 0) * (stock.volume || 0)) / 10000000000).toFixed(2)}B</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Trading Panel */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"sticky top-20 space-y-6\">\n              <Card className=\"bg-white/[0.02] border-white/10 backdrop-blur-sm overflow-hidden\">\n                {/* Header with gradient */}\n                <div className={`px-6 py-4 ${orderType === 'buy' ? 'bg-linear-to-r from-green-500/10 to-transparent' : 'bg-linear-to-r from-red-500/10 to-transparent'} border-b border-white/5`}>\n                  <CardTitle className=\"text-lg sm:text-xl text-white flex items-center gap-2\">\n                    <span className={`flex items-center justify-center w-8 h-8 rounded-lg ${orderType === 'buy' ? 'bg-green-500/20' : 'bg-red-500/20'}`}>\n                      {orderType === 'buy' ? '↗' : '↘'}\n                    </span>\n                    Place Order\n                  </CardTitle>\n                </div>\n                \n                <CardContent className=\"pt-6\">\n                  {/* Order Type Toggle */}\n                  <div className=\"mb-6 p-1 flex gap-1 rounded-xl bg-gray-900/50 border border-white/5\">\n                    <button\n                      onClick={() => setOrderType('buy')}\n                      className={`\n                        flex-1 rounded-lg py-3 text-sm font-bold transition-all duration-300 flex items-center justify-center gap-2\n                        ${\n                          orderType === 'buy'\n                            ? 'bg-green-600 text-white shadow-lg shadow-green-600/30'\n                            : 'text-gray-400 hover:text-white hover:bg-white/5'\n                        }\n                      `}\n                    >\n                      <span>↗</span> Buy\n                    </button>\n                    <button\n                      onClick={() => setOrderType('sell')}\n                      className={`\n                        flex-1 rounded-lg py-3 text-sm font-bold transition-all duration-300 flex items-center justify-center gap-2\n                        ${\n                          orderType === 'sell'\n                            ? 'bg-red-600 text-white shadow-lg shadow-red-600/30'\n                            : 'text-gray-400 hover:text-white hover:bg-white/5'\n                        }\n                      `}\n                    >\n                      <span>↘</span> Sell\n                    </button>\n                  </div>\n\n                  <div className=\"space-y-5\">\n                    {/* Quantity Input */}\n                    <div>\n                      <label className=\"mb-2 block text-xs sm:text-sm font-semibold text-gray-300 uppercase tracking-wider\">\n                        Quantity\n                      </label>\n                      <div className=\"relative\">\n                        <Input\n                          type=\"number\"\n                          placeholder=\"Enter shares\"\n                          value={quantity}\n                          onChange={(e) => setQuantity(e.target.value)}\n                          min=\"1\"\n                          step=\"1\"\n                          className=\"text-lg font-semibold bg-gray-900/50 border-white/10 focus:border-blue-500/50 focus:ring-blue-500/20 transition-all duration-300 pr-16 text-white\"\n                        />\n                        <span className=\"absolute right-4 top-1/2 -translate-y-1/2 text-sm text-gray-500\">shares</span>\n                      </div>\n                    </div>\n\n                    {/* Price Display */}\n                    <div>\n                      <label className=\"mb-2 block text-xs sm:text-sm font-semibold text-gray-300 uppercase tracking-wider\">\n                        Price per share\n                      </label>\n                      <div className=\"relative p-4 rounded-xl bg-gray-900/50 border border-white/10\">\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-lg font-bold text-white\">{formatRupee(stock.price)}</span>\n                          <div className=\"flex items-center gap-1.5\">\n                            <div className=\"w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse\" />\n                            <span className=\"text-xs text-gray-500\">Market Price</span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Estimated Total */}\n                    <div className=\"p-4 rounded-xl bg-linear-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20\">\n                      <div className=\"flex justify-between items-center mb-2\">\n                        <span className=\"text-xs sm:text-sm text-gray-400\">Estimated Total</span>\n                        <span className=\"text-2xl sm:text-3xl font-black text-white tabular-nums\">\n                          {formatRupee(totalCost)}\n                        </span>\n                      </div>\n                      {quantity && parseFloat(quantity) > 0 && (\n                        <p className=\"text-xs text-gray-500\">\n                          {quantity} share{parseFloat(quantity) > 1 ? 's' : ''} × {formatRupee(stock.price)}\n                        </p>\n                      )}\n                    </div>\n\n                    {/* Error Message */}\n                    {error && (\n                      <div className=\"p-4 rounded-xl bg-red-500/10 border border-red-500/30\">\n                        <div className=\"flex items-start gap-3\">\n                          <svg className=\"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                          </svg>\n                          <p className=\"text-sm text-red-400\">{error}</p>\n                        </div>\n                      </div>\n                    )}\n\n                    {/* Success Message */}\n                    {success && (\n                      <div className=\"p-4 rounded-xl bg-green-500/10 border border-green-500/30\">\n                        <div className=\"flex items-start gap-3\">\n                          <svg className=\"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                          </svg>\n                          <p className=\"text-sm text-green-400\">{success}</p>\n                        </div>\n                      </div>\n                    )}\n\n                    {/* Trade Button */}\n                    <Button\n                      className={`w-full py-6 text-base font-bold transition-all duration-300 ${\n                        orderType === 'buy'\n                          ? 'bg-linear-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 shadow-lg shadow-green-600/30'\n                          : 'bg-linear-to-r from-red-600 to-rose-600 hover:from-red-500 hover:to-rose-500 shadow-lg shadow-red-600/30'\n                      }`}\n                      onClick={handleTrade}\n                      disabled={!quantity || parseFloat(quantity) <= 0 || isLoading}\n                    >\n                      {isLoading ? (\n                        <span className=\"flex items-center gap-2\">\n                          <svg className=\"animate-spin h-5 w-5\" viewBox=\"0 0 24 24\">\n                            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\n                            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n                          </svg>\n                          Processing...\n                        </span>\n                      ) : (\n                        <span className=\"flex items-center justify-center gap-2\">\n                          {orderType === 'buy' ? '↗' : '↘'} {orderType === 'buy' ? 'Buy' : 'Sell'} {stock.symbol}\n                        </span>\n                      )}\n                    </Button>\n                  </div>\n\n                  {/* Disclaimer */}\n                  <div className=\"mt-6 p-3 rounded-lg bg-white/[0.02] border border-white/5\">\n                    <div className=\"space-y-1.5 text-[10px] sm:text-xs text-gray-500\">\n                      <p className=\"flex items-center gap-2\">\n                        <span className=\"w-1 h-1 rounded-full bg-gray-600\" />\n                        Market orders execute at current price\n                      </p>\n                      <p className=\"flex items-center gap-2\">\n                        <span className=\"w-1 h-1 rounded-full bg-gray-600\" />\n                        Virtual trading for demo purposes only\n                      </p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Quick Stats Card */}\n              <Card className=\"bg-white/[0.02] border-white/10 backdrop-blur-sm\">\n                <CardContent className=\"py-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-gray-400\">52W Range</span>\n                    <span className=\"text-sm font-semibold text-white\">\n                      {formatRupee((stock.low || 0) * 0.7)} - {formatRupee((stock.high || 0) * 1.3)}\n                    </span>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { formatRupee } from '@/lib/utils';\nimport type { PriceHistory } from '@/lib/types';\n\ninterface PriceChartProps {\n  data: PriceHistory;\n  height?: number;\n}\n\nexport function PriceChart({ data, height = 300 }: PriceChartProps) {\n  // Extract prices and create a simple visualization\n  const prices = data.data.map((point) => point.price);\n  const minPrice = Math.min(...prices);\n  const maxPrice = Math.max(...prices);\n  const priceRange = maxPrice - minPrice || 1;\n\n  // Simple SVG line chart\n  const points = data.data\n    .map((point, index) => {\n      const x = (index / (data.data.length - 1)) * 100;\n      const y = 100 - ((point.price - minPrice) / priceRange) * 90;\n      return `${x},${y}`;\n    })\n    .join(' ');\n\n  const latestPrice = prices[prices.length - 1];\n  const firstPrice = prices[0];\n  const chartChange = latestPrice - firstPrice;\n  const chartChangePercent = ((chartChange / firstPrice) * 100).toFixed(2);\n  const isPositive = chartChange >= 0;\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <CardTitle>{data.symbol} Price Chart</CardTitle>\n          <div className=\"text-right\">\n            <div className=\"text-sm text-gray-400\">Period: {data.timeframe}</div>\n            <div\n              className={`text-lg font-semibold ${\n                isPositive ? 'text-green-400' : 'text-red-400'\n              }`}\n            >\n              {isPositive ? '+' : ''}\n              {chartChangePercent}%\n            </div>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"relative\" style={{ height: `${height}px` }}>\n          <svg\n            viewBox=\"0 0 100 100\"\n            preserveAspectRatio=\"none\"\n            className=\"h-full w-full\"\n          >\n            <defs>\n              <linearGradient id=\"gradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                <stop offset=\"0%\" stopColor={isPositive ? '#10b981' : '#ef4444'} stopOpacity=\"0.3\" />\n                <stop offset=\"100%\" stopColor={isPositive ? '#10b981' : '#ef4444'} stopOpacity=\"0\" />\n              </linearGradient>\n            </defs>\n            <polyline\n              points={points}\n              fill=\"none\"\n              stroke={isPositive ? '#10b981' : '#ef4444'}\n              strokeWidth=\"0.5\"\n            />\n            <polygon\n              points={`0,100 ${points} 100,100`}\n              fill=\"url(#gradient)\"\n            />\n          </svg>\n          <div className=\"absolute bottom-0 left-0 right-0 flex justify-between text-xs text-gray-500 px-1\">\n            <span>₹{minPrice.toFixed(2)}</span>\n            <span>₹{maxPrice.toFixed(2)}</span>\n          </div>\n        </div>\n        <div className=\"mt-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 text-xs sm:text-sm\">\n          <div>\n            <span className=\"text-gray-500\">Current: </span>\n            <span className=\"font-semibold text-white\">{formatRupee(latestPrice)}</span>\n          </div>\n          <div>\n            <span className=\"text-gray-500\">Change: </span>\n            <span className={`font-semibold ${isPositive ? 'text-green-400' : 'text-red-400'}`}>\n              {isPositive ? '+' : ''}{formatRupee(chartChange)} ({isPositive ? '+' : ''}\n              {chartChangePercent}%)\n            </span>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000';\n\nexport interface TradeRequest {\n  symbol: string;\n  quantity: number;\n}\n\nexport interface TradeResponse {\n  message: string;\n  trade?: {\n    username: string;\n    symbol: string;\n    qty: number;\n    price: number;\n    type: string;\n    timestamp: string;\n  };\n  symbol?: string;\n  quantity?: number;\n  price?: number;\n  total_cost?: number;\n  cash_balance?: number;\n  [key: string]: any;\n}\n\nexport const tradingService = {\n  /**\n   * Buy stocks\n   */\n  async buyStock(symbol: string, quantity: number): Promise<TradeResponse> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/trade/buy`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify({ symbol, quantity }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.message || error.error || 'Failed to buy stock');\n      }\n\n      const result = await response.json();\n      if (!result) {\n        throw new Error('Invalid response from server');\n      }\n      return result;\n    } catch (error) {\n      throw error instanceof Error ? error : new Error('Failed to buy stock');\n    }\n  },\n\n  /**\n   * Sell stocks\n   */\n  async sellStock(symbol: string, quantity: number): Promise<TradeResponse> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/trade/sell`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify({ symbol, quantity }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.message || error.error || 'Failed to sell stock');\n      }\n\n      const result = await response.json();\n      if (!result) {\n        throw new Error('Invalid response from server');\n      }\n      return result;\n    } catch (error) {\n      throw error instanceof Error ? error : new Error('Failed to sell stock');\n    }\n  },\n};\n"],"names":[],"mappings":"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"}